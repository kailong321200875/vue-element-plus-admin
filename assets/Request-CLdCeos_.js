var q=(k,m,e)=>new Promise((p,i)=>{var f=a=>{try{c(e.next(a))}catch(d){i(d)}},y=a=>{try{c(e.throw(a))}catch(d){i(d)}},c=a=>a.done?p(a.value):Promise.resolve(a.value).then(f,y);c((e=e.apply(k,m)).next())});import{_ as A}from"./ContentWrap.vue_vue_type_script_setup_true_lang-BQQVoJIW.js";import{r as s,c as h}from"./index-XQEkcq4y.js";/* empty css                   */import{n as E}from"./element-plus-B-YefleC.js";import{v as N,r as V,x as D,J as S,K as l,B as T,P as I,M as n,a3 as o,u as v,ad as J}from"./vue-chunks-COp0tDkU.js";/* empty css                *//* empty css                  */const K=()=>s.get({url:"/mock/request/1"}),M=()=>s.get({url:"/mock/request/2"}),P=()=>s.get({url:"/mock/request/3"}),$=()=>s.get({url:"/mock/request/4"}),b=()=>s.get({url:"/mock/request/5"}),j=()=>s.get({url:"/mock/request/expired"}),W=N({__name:"Request",setup(k){const{t:m}=h(),e=V(new Set),p=()=>q(this,null,function*(){if(!e.value.has("/request/1"))try{e.value.add("/request/1");const r=yield K()}catch(r){}finally{e.value.delete("/request/1")}}),i=()=>q(this,null,function*(){if(!e.value.has("/request/2"))try{e.value.add("/request/2");const r=yield M()}catch(r){}finally{e.value.delete("/request/2")}}),f=()=>q(this,null,function*(){if(!e.value.has("/request/3"))try{e.value.add("/request/3");const r=yield P()}catch(r){}finally{e.value.delete("/request/3")}}),y=()=>q(this,null,function*(){if(!e.value.has("/request/4"))try{e.value.add("/request/4");const r=yield $()}catch(r){}finally{e.value.delete("/request/4")}}),c=()=>q(this,null,function*(){if(!e.value.has("/request/5"))try{e.value.add("/request/5");const r=yield b()}catch(r){}finally{e.value.delete("/request/5")}}),a=()=>{p(),i(),f(),y(),c()},d=()=>{s.cancelAllRequest(),e.value.clear()},g=r=>{const t=[];return r.forEach(u=>{t.push(u)}),t},R=()=>{if(e.value.has("/request/1")){s.cancelRequest("/request/1"),e.value.delete("/request/1");return}p()},C=()=>{if(e.value.has("/request/2")){s.cancelRequest("/request/2"),e.value.delete("/request/2");return}i()},x=()=>{if(e.value.has("/request/3")){s.cancelRequest("/request/3"),e.value.delete("/request/3");return}f()},B=()=>{if(e.value.has("/request/4")){s.cancelRequest("/request/4"),e.value.delete("/request/4");return}y()},w=()=>{if(e.value.has("/request/5")){s.cancelRequest("/request/5"),e.value.delete("/request/5");return}c()},_=()=>{j()};return(r,t)=>{const u=J("BaseButton");return D(),S(v(A),{title:v(m)("router.request")},{default:l(()=>[T("p",null,"正在请求的接口："+I(g(e.value)),1),n(u,{type:"primary",onClick:R},{default:l(()=>t[0]||(t[0]=[o("请求/取消request1")])),_:1}),n(u,{type:"primary",onClick:C},{default:l(()=>t[1]||(t[1]=[o("请求/取消request2")])),_:1}),n(u,{type:"primary",onClick:x},{default:l(()=>t[2]||(t[2]=[o("请求/取消request3")])),_:1}),n(u,{type:"primary",onClick:B},{default:l(()=>t[3]||(t[3]=[o("请求/取消request4")])),_:1}),n(u,{type:"primary",onClick:w},{default:l(()=>t[4]||(t[4]=[o("请求/取消request5")])),_:1}),n(u,{type:"primary",onClick:a},{default:l(()=>t[5]||(t[5]=[o("发送五个请求")])),_:1}),n(u,{type:"primary",onClick:d},{default:l(()=>t[6]||(t[6]=[o("关闭所有请求")])),_:1}),n(v(E)),n(u,{type:"primary",onClick:_},{default:l(()=>t[7]||(t[7]=[o("token过期")])),_:1})]),_:1},8,["title"])}}});export{W as default};
