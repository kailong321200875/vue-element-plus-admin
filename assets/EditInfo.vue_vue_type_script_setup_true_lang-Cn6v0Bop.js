var f=(r,l,t)=>new Promise((c,n)=>{var m=e=>{try{o(t.next(e))}catch(s){n(s)}},i=e=>{try{o(t.throw(e))}catch(s){n(s)}},o=e=>e.done?c(e.value):Promise.resolve(e.value).then(m,i);o((t=t.apply(r,l)).next())});import{F as _}from"./Form-CLuZAwqB.js";import{u as b}from"./useForm-ddPxPGgM.js";import{u as E}from"./useValidator-aWbiMX7P.js";import"./index-XQEkcq4y.js";/* empty css                   */import{n as w,l as I,b as N}from"./element-plus-B-YefleC.js";import{v as V,V as g,w as C,r as F,x as M,y as k,M as d,u as h,K as P,a3 as R,H as T,ad as j}from"./vue-chunks-COp0tDkU.js";const A=V({__name:"EditInfo",props:{userInfo:{type:Object,default:()=>({})}},setup(r){const l=r,{required:t,phone:c,maxlength:n,email:m}=E(),i=g([{field:"realName",label:"昵称",component:"Input",colProps:{span:24}},{field:"phoneNumber",label:"手机号码",component:"Input",colProps:{span:24}},{field:"email",label:"邮箱",component:"Input",colProps:{span:24}}]),o=g({realName:[t(),n(50)],phoneNumber:[c()],email:[m()]}),{formRegister:e,formMethods:s}=b(),{setValues:x,getElFormExpose:y}=s;C(()=>l.userInfo,a=>{x(a)},{immediate:!0,deep:!0});const v=F(!1),B=()=>f(this,null,function*(){const a=yield y();(yield a==null?void 0:a.validate().catch(u=>{}))&&I.confirm("是否确认修改?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>f(this,null,function*(){try{v.value=!0,N.success("修改成功")}catch(u){}finally{v.value=!1}})).catch(()=>{})});return(a,p)=>{const u=j("BaseButton");return M(),k(T,null,[d(h(_),{rules:o,onRegister:h(e),schema:i},null,8,["rules","onRegister","schema"]),d(h(w)),d(u,{type:"primary",onClick:B},{default:P(()=>p[0]||(p[0]=[R("保存")])),_:1})],64)}}});export{A as _};
